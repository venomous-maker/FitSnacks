<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/fitsnacks/ui/AddSnackFragment.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/fitsnacks/ui/AddSnackFragment.java" />
              <option name="originalContent" value="package com.example.fitsnacks.ui;&#10;&#10;import android.os.Bundle;&#10;import android.text.TextUtils;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.Button;&#10;import android.widget.EditText;&#10;import android.widget.Toast;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.lifecycle.ViewModelProvider;&#10;import com.example.fitsnacks.R;&#10;import com.example.fitsnacks.data.SnackEntry;&#10;import com.example.fitsnacks.viewmodel.DashboardViewModel;&#10;import java.time.LocalDate;&#10;import java.time.format.DateTimeFormatter;&#10;import java.time.format.DateTimeParseException;&#10;&#10;public class AddSnackFragment extends Fragment {&#10;    private DashboardViewModel vm;&#10;    private EditText nameInput, caloriesInput, portionInput, dateInput;&#10;&#10;    @Nullable&#10;    @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        return inflater.inflate(R.layout.fragment_add_snack, container, false);&#10;    }&#10;&#10;    @Override&#10;    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {&#10;        super.onViewCreated(view, savedInstanceState);&#10;        vm = new ViewModelProvider(requireActivity()).get(DashboardViewModel.class);&#10;&#10;        nameInput = view.findViewById(R.id.input_snack_name);&#10;        caloriesInput = view.findViewById(R.id.input_snack_calories);&#10;        portionInput = view.findViewById(R.id.input_snack_portion);&#10;        dateInput = view.findViewById(R.id.input_snack_date);&#10;&#10;        // default date to today&#10;        dateInput.setText(LocalDate.now().toString());&#10;&#10;        Button btnSave = view.findViewById(R.id.btn_save);&#10;        btnSave.setOnClickListener(v -&gt; {&#10;            String name = nameInput.getText().toString().trim();&#10;            String caloriesStr = caloriesInput.getText().toString().trim();&#10;            String portion = portionInput.getText().toString().trim();&#10;            String date = dateInput.getText().toString().trim();&#10;&#10;            if (TextUtils.isEmpty(name)) {&#10;                nameInput.setError(&quot;Please enter snack name&quot;);&#10;                return;&#10;            }&#10;&#10;            if (TextUtils.isEmpty(caloriesStr)) {&#10;                caloriesInput.setError(&quot;Please enter calories&quot;);&#10;                return;&#10;            }&#10;&#10;            int calories;&#10;            try {&#10;                calories = Integer.parseInt(caloriesStr);&#10;                if (calories &lt;= 0) {&#10;                    caloriesInput.setError(&quot;Calories must be positive&quot;);&#10;                    return;&#10;                }&#10;                if (calories &gt; 10000) {&#10;                    caloriesInput.setError(&quot;Calories too high&quot;);&#10;                    return;&#10;                }&#10;            } catch (NumberFormatException e) {&#10;                caloriesInput.setError(&quot;Calories must be a number&quot;);&#10;                return;&#10;            }&#10;&#10;            // Validate date format&#10;            try {&#10;                LocalDate.parse(date, DateTimeFormatter.ISO_LOCAL_DATE);&#10;            } catch (DateTimeParseException e) {&#10;                dateInput.setError(&quot;Invalid date format (YYYY-MM-DD)&quot;);&#10;                return;&#10;            }&#10;&#10;            SnackEntry entry = new SnackEntry(name, calories, portion, date);&#10;            vm.insertSnack(entry);&#10;            Toast.makeText(getContext(), &quot;Snack saved&quot;, Toast.LENGTH_SHORT).show();&#10;            requireActivity().getSupportFragmentManager().popBackStack();&#10;        });&#10;&#10;        view.findViewById(R.id.btn_cancel).setOnClickListener(v -&gt;&#10;                requireActivity().getSupportFragmentManager().popBackStack());&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.fitsnacks.ui;&#10;&#10;import android.os.Bundle;&#10;import android.text.TextUtils;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.Button;&#10;import android.widget.EditText;&#10;import android.widget.Toast;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.lifecycle.ViewModelProvider;&#10;import com.example.fitsnacks.R;&#10;import com.example.fitsnacks.data.SnackEntry;&#10;import com.example.fitsnacks.viewmodel.DashboardViewModel;&#10;import com.google.android.material.snackbar.Snackbar;&#10;import java.time.LocalDate;&#10;import java.time.format.DateTimeFormatter;&#10;import java.time.format.DateTimeParseException;&#10;&#10;public class AddSnackFragment extends Fragment {&#10;    private DashboardViewModel vm;&#10;    private EditText nameInput, caloriesInput, portionInput, dateInput;&#10;&#10;    @Nullable&#10;    @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        return inflater.inflate(R.layout.fragment_add_snack, container, false);&#10;    }&#10;&#10;    @Override&#10;    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {&#10;        super.onViewCreated(view, savedInstanceState);&#10;        vm = new ViewModelProvider(requireActivity()).get(DashboardViewModel.class);&#10;&#10;        nameInput = view.findViewById(R.id.input_snack_name);&#10;        caloriesInput = view.findViewById(R.id.input_snack_calories);&#10;        portionInput = view.findViewById(R.id.input_snack_portion);&#10;        dateInput = view.findViewById(R.id.input_snack_date);&#10;&#10;        // default date to today&#10;        dateInput.setText(LocalDate.now().toString());&#10;&#10;        Button btnSave = view.findViewById(R.id.btn_save);&#10;        btnSave.setOnClickListener(v -&gt; {&#10;            String name = nameInput.getText().toString().trim();&#10;            String caloriesStr = caloriesInput.getText().toString().trim();&#10;            String portion = portionInput.getText().toString().trim();&#10;            String date = dateInput.getText().toString().trim();&#10;&#10;            if (TextUtils.isEmpty(name)) {&#10;                nameInput.setError(&quot;Please enter snack name&quot;);&#10;                return;&#10;            }&#10;&#10;            if (TextUtils.isEmpty(caloriesStr)) {&#10;                caloriesInput.setError(&quot;Please enter calories&quot;);&#10;                return;&#10;            }&#10;&#10;            int calories;&#10;            try {&#10;                calories = Integer.parseInt(caloriesStr);&#10;                if (calories &lt;= 0) {&#10;                    caloriesInput.setError(&quot;Calories must be positive&quot;);&#10;                    return;&#10;                }&#10;                if (calories &gt; 10000) {&#10;                    caloriesInput.setError(&quot;Calories too high&quot;);&#10;                    return;&#10;                }&#10;            } catch (NumberFormatException e) {&#10;                caloriesInput.setError(&quot;Calories must be a number&quot;);&#10;                return;&#10;            }&#10;&#10;            // Validate date format&#10;            try {&#10;                LocalDate.parse(date, DateTimeFormatter.ISO_LOCAL_DATE);&#10;            } catch (DateTimeParseException e) {&#10;                dateInput.setError(&quot;Invalid date format (YYYY-MM-DD)&quot;);&#10;                return;&#10;            }&#10;&#10;            SnackEntry entry = new SnackEntry(name, calories, portion, date);&#10;            // insert with callback to receive assigned id&#10;            vm.insertSnack(entry, id -&gt; {&#10;                // Show Snackbar with Undo&#10;                View root = requireActivity().findViewById(android.R.id.content);&#10;                if (root == null) root = view;&#10;                Snackbar.make(root, &quot;Snack saved&quot;, Snackbar.LENGTH_LONG)&#10;                        .setAction(&quot;Undo&quot;, undoV -&gt; vm.deleteSnack(id))&#10;                        .show();&#10;            });&#10;&#10;            Toast.makeText(getContext(), &quot;Snack saved&quot;, Toast.LENGTH_SHORT).show();&#10;            requireActivity().getSupportFragmentManager().popBackStack();&#10;        });&#10;&#10;        view.findViewById(R.id.btn_cancel).setOnClickListener(v -&gt;&#10;                requireActivity().getSupportFragmentManager().popBackStack());&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/fitsnacks/ui/AddWorkoutFragment.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/fitsnacks/ui/AddWorkoutFragment.java" />
              <option name="updatedContent" value="package com.example.fitsnacks.ui;&#10;&#10;import android.os.Bundle;&#10;import android.text.TextUtils;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.EditText;&#10;import android.widget.Toast;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.lifecycle.ViewModelProvider;&#10;import com.example.fitsnacks.R;&#10;import com.example.fitsnacks.viewmodel.DashboardViewModel;&#10;import com.google.android.material.snackbar.Snackbar;&#10;&#10;public class AddWorkoutFragment extends Fragment {&#10;    private DashboardViewModel vm;&#10;&#10;    @Nullable&#10;    @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        return inflater.inflate(R.layout.fragment_add_workout, container, false);&#10;    }&#10;&#10;    @Override&#10;    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {&#10;        super.onViewCreated(view, savedInstanceState);&#10;        vm = new ViewModelProvider(requireActivity()).get(DashboardViewModel.class);&#10;&#10;        EditText name = view.findViewById(R.id.input_workout_name);&#10;        EditText calories = view.findViewById(R.id.input_workout_calories);&#10;&#10;        view.findViewById(R.id.btn_save_workout).setOnClickListener(v -&gt; {&#10;            String n = name.getText() == null ? &quot;&quot; : name.getText().toString().trim();&#10;            String c = calories.getText() == null ? &quot;&quot; : calories.getText().toString().trim();&#10;            if (TextUtils.isEmpty(n)) {&#10;                name.setError(&quot;Enter workout name&quot;);&#10;                return;&#10;            }&#10;            int cal = 0;&#10;            try {&#10;                cal = Integer.parseInt(c);&#10;            } catch (NumberFormatException e) {&#10;                calories.setError(&quot;Enter numeric calories&quot;);&#10;                return;&#10;            }&#10;            // set calories burned in ViewModel (this app tracks total burned as simple integer)&#10;            Integer prev = vm.getCaloriesBurned().getValue();&#10;            int prevVal = prev == null ? 0 : prev;&#10;            vm.setCaloriesBurned(prevVal + cal);&#10;&#10;            View root = requireActivity().findViewById(android.R.id.content);&#10;            if (root == null) root = view;&#10;            final int added = cal;&#10;            Snackbar.make(root, &quot;Workout added&quot;, Snackbar.LENGTH_LONG)&#10;                    .setAction(&quot;Undo&quot;, undoV -&gt; vm.setCaloriesBurned(prevVal))&#10;                    .show();&#10;&#10;            Toast.makeText(requireContext(), &quot;Workout added&quot;, Toast.LENGTH_SHORT).show();&#10;            requireActivity().getSupportFragmentManager().popBackStack();&#10;        });&#10;&#10;        view.findViewById(R.id.btn_cancel_workout).setOnClickListener(v -&gt;&#10;                requireActivity().getSupportFragmentManager().popBackStack());&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/fragment_add_workout.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/fragment_add_workout.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:orientation=&quot;vertical&quot;&#10;    android:padding=&quot;16dp&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Add Workout&quot;&#10;        android:textSize=&quot;20sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:layout_marginBottom=&quot;8dp&quot; /&gt;&#10;&#10;    &lt;EditText&#10;        android:id=&quot;@+id/input_workout_name&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:hint=&quot;Workout name&quot; /&gt;&#10;&#10;    &lt;EditText&#10;        android:id=&quot;@+id/input_workout_calories&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:hint=&quot;Calories burned&quot;&#10;        android:inputType=&quot;number&quot;&#10;        android:layout_marginTop=&quot;8dp&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.button.MaterialButton&#10;        android:id=&quot;@+id/btn_save_workout&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Save&quot;&#10;        android:layout_marginTop=&quot;16dp&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.button.MaterialButton&#10;        android:id=&quot;@+id/btn_cancel_workout&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Cancel&quot;&#10;        android:layout_marginTop=&quot;8dp&quot; /&gt;&#10;&#10;&lt;/LinearLayout&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>